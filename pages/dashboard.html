<!DOCTYPE html>
<html>
    <head>
    <title>Dashboard</title>
    <meta charset="UTF-8">
    <style type="text/css">
        <<< /css/bulma.min.css >>>
        <<< /css/layout.css >>>
        <<< /css/style.css >>>
    </style> 
    <script type="text/javascript">
        // Libraries
        <<< /js/charts.min.js >>>
        <<< /js/colours.js >>>
        <<< /js/jackQuery.js >>>
        <<< /js/progressbar.js >>>

      // Sum function
      sum = x => x.reduce((a, b) => a + b, 0)

      // Imports data
      <<< /js/import-data.js >>>

      // The impression counting function
      function impression_count(axis1, axis2) {
        return (axis1 == undefined)? sum(country_data.map(p => p.impressions)) : (axis2 != undefined)? sum(country_data.filter(d =>
                  contains(d, axis1) && contains(d, axis2)
                ).map(p => p.impressions)) : sum(country_data.filter(d =>
                  contains(d, axis1)
                ).map(p => p.impressions))
      }
    </script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <script>
        $(document).ready(function(){

            $("#displayDay").click(function(){
                jQuery("#graph").attr('src','http://individual.utoronto.ca/woojoyce/img/graph-day.png' );
                return false;
            });

            $("#displayWeek").click(function(){
                jQuery("#graph").attr('src','http://individual.utoronto.ca/woojoyce/img/graph-month.png' );
                return false;

            });

            $("#displayHour").click(function(){
                jQuery("#graph").attr('src','http://individual.utoronto.ca/woojoyce/img/graph-hour.png' );
                return false;

            });

            $("#top-page").click(function(){
                $.getScript("http://individual.utoronto.ca/woojoyce/goalBar.js");

                $('html,body').animate({
                    scrollTop: $("#center-page").offset().top},
                    'slow');

                return false; 
            }); 

            $("#center-page").click(function(){
                $.getScript("http://individual.utoronto.ca/woojoyce/donut-graph-location.js");
                $.getScript("http://individual.utoronto.ca/woojoyce/donut-graph-type.js");
                $.getScript("http://individual.utoronto.ca/woojoyce/donut-graph-mobile.js");

                $('html,body').animate({
                    scrollTop: $(".donut-graphs").offset().top},
                    'slow');

                return false;
            });
        });

    </script>

    <script src= "http://www.kryogenix.org/code/browser/smoothscroll/smoothscroll.js"></script>
    </head>

    <body>

    <div class="header">
       
        <a href="/"> <img class="logo" src="http://individual.utoronto.ca/woojoyce/img/logo.png" alt="Logo" height="60px"> </a>
        <ul class="navigation">
            <li><a href="#" class="flatbtn1"><img src="http://individual.utoronto.ca/woojoyce/img/about.png" alt="About" height="60px"></a></li>
            <li><a href="#" class="flatbtn1"><img src="http://individual.utoronto.ca/woojoyce/img/leadership.png" alt="Leadership" height="60px"></a></li>
            <li><a href="#" class="flatbtn1"><img src="http://individual.utoronto.ca/woojoyce/img/careers.png" alt="Careers" height="60px"> </a></li>
            <li><a href="#" class="flatbtn1"><img src="http://individual.utoronto.ca/woojoyce/img/contact.png" alt="Contact" height="60px"></a></li>
            <li><a href="/"><img src="http://individual.utoronto.ca/woojoyce/img/logout.png" alt="Logout" height="60px"></a></li>
        </ul>
    </div>

    <div>
        <a id="top-page">
            <img src="http://individual.utoronto.ca/woojoyce/img/explore.png" width="100%">
        </a>  
    </div>

    
    <div id="center-page">
        <div id="progressBar">
        <h1> This month's progress </h1>

        <div class="progress" id="progress"></div>
        <script src="js/goalBar.js"></script> 
    </div>


    <ul class="flex-container">
        <li class="flex-item">

            <img id="bar-graph" src="http://individual.utoronto.ca/woojoyce/img/bar-graph-cost.png" width="100%"  height="90%">
        </li>
        <li class="flex-item">
            <img id="graph" src="http://individual.utoronto.ca/woojoyce/img/graph-month.png" width="100%"  height="90%">

            <span id="graph-time-wrapper">
                <a class="graph-time" href="" id="displayHour">hour | </a>
                <a class="graph-time" href="" id="displayDay">day | </a>        
                <a class="graph-time" href="" id="displayWeek">week</a>
            </span>
        </li>
    </ul>

    </div> </a>

    <div  class="donut-graphs">
        <div class= "donut-mobile">
            <h1>Views per device</h1>
            <canvas id="myChart" width="400" height="400"></canvas>
            <script src="js/donut-graph-mobile.js"></script>
        </div>

        <div class= "donut-location-type">
            <h1>Views per location</h1>
            <canvas id="myChart2" width="400" height="400"></canvas>
            <script src="js/donut-graph-location.js"></script>

            <h1>Views per ad type</h1>
            <canvas id="myChart3" width="400" height="400"></canvas>
            <script src="js/donut-graph-type.js"></script>
        </div>
    </div>    
</body>
</html>
  </body>
</html>
